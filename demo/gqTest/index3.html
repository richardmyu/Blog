<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <a href="" name="test" class="test" id="test">
      <img src="" alt="" name="atoa" />
      <span class="item"></span>
    </a>

    <a href="" name="test2">
      <img src="" alt="" name="atoa" />
    </a>

    <script>
      console.log(
        "%c ****** querySelectorAll ******",
        "color:red;font-size:20px"
      );
      // Demo 2
      console.time("querySelectorAll -- id");
      var test1 = document.querySelectorAll("#test")[0];
      var test1Child = test1.querySelectorAll("span");
      for (var i = 0; i < test1Child.length; i++) {
        test1.appendChild(document.createElement("span"));
      }
      console.timeEnd("querySelectorAll -- id");

      console.time("querySelectorAll -- className");
      var test2 = document.querySelectorAll(".test")[0];
      var test2Child = test2.querySelectorAll("span");
      for (var i = 0; i < test2Child.length; i++) {
        test2.appendChild(document.createElement("span"));
      }
      console.timeEnd("querySelectorAll -- className");

      console.time("querySelectorAll -- tagName");
      var test3 = document.querySelectorAll("a")[0];
      var test3Child = test3.querySelectorAll("span");
      for (var i = 0; i < test3Child.length; i++) {
        test3.appendChild(document.createElement("span"));
      }
      console.timeEnd("querySelectorAll -- tagName");

      console.time("querySelectorAll -- name");
      var test4 = document.querySelectorAll("a[name='test']")[0];
      var test4Child = test4.querySelectorAll("span");
      for (var i = 0; i < test4Child.length; i++) {
        test4.appendChild(document.createElement("span"));
      }
      console.timeEnd("querySelectorAll -- name");
    </script>
    <script>
      console.log(
        "%c ****** getElementsByTagName ******",
        "color:red;font-size:20px"
      );
      // Demo 4
      console.time("getElementsByTagName");
      var test = document.getElementsByTagName("a")[0],
        testChild = test.getElementsByTagName("span");
      // 可能会导致页面崩溃
      // for (var i = 0; i < testChild.length; i++) {
      //   test.appendChild(document.createElement("span"));
      // }
      console.timeEnd("getElementsByTagName");
    </script>
    <script>
      console.log(
        "%c ****** getElementsByClassName ******",
        "color:red;font-size:20px"
      );
      // Demo 5
      console.time("getElementsByClassName");
      var test = document.getElementsByClassName("test")[0],
        testChild = test.getElementsByClassName("item");
      // 可能会导致页面崩溃
      // for (var i = 0; i < testChild.length; i++) {
      //   var span = document.createElement("span");
      //   span.classList.add("item");
      //   test.appendChild(span);
      // }
      console.timeEnd("getElementsByClassName");
    </script>
    <script>
      console.log(
        "%c ****** getElementsByClassName ******",
        "color:red;font-size:20px"
      );
      // Demo 6
      console.time("getElementsByName");
      var test = document.getElementsByName("test2");
      // 可能会导致页面崩溃
      // for (var i = 0; i < test.length; i++) {
      //   var a = document.createElement("a");
      //   a.setAttribute("name", "test2");
      //   test[0].parentNode.appendChild(a);
      // }
      console.timeEnd("getElementsByName");
    </script>
  </body>
</html>
